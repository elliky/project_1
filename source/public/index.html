<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Note App</title>
    <link rel="icon" type="image/svg" href="./resources/note.svg" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"
      defer
    ></script>
    <!-- <script src="handlebars.min.js"></script> -->
    <link rel="stylesheet" href="styles/main.css" />
    <script
      src="scripts/controller/todo-controller.js"
      type="module"
      defer
    ></script>
    <!-- <script src="scripts/todoService.js" defer></script> -->
  </head>
  <body>
    <h1>Note App</h1>
    <div>
      <button type="button" name="create_new" id="create_new">
        Create new Todo
      </button>
      <button type="button" name="toggle_style" id="toggle_style">
        Toggle Style
      </button>
    </div>
    <div>
      <div>
        <input type="button" name="name" id="name" value="Name" />
        <button name="due-Date" id="due-Date" value="By Due Date">
          By Due Date
        </button>
        <button type="button" name="creation-date" id="creation-date">
          By Creation Date
        </button>
        <button type="button" name="importance" id="importance">
          By Importance
        </button>
      </div>
      <input type="button" name="filter" id="filter" value="Creat new Todo" />
    </div>
    <h2>Table</h2>
    <section class="card" id="todo-notes-container"></section>
    <section class="card" id="edit-todo-note-container"></section>

    <!-- Note List -->
    <script id="todo-notes-template" type="text/x-handlebars-template">
      {{#if displayedTodoNotes.length}}
        <ul class="todo-table">
          test output
          {{#each displayedTodoNotes}}
          <li class="table-entry">
            <span>{{this}}</span>
            <div>
              <div>in a day</div>
              <div id="todo-notes-finished-button">
                <input type="checkbox" data-todo-id="{{id}}" name="finished" {{#if finished}}checked{{/if}} />
              </div>
            </div>
            <div>
              <div>{{name}}</div>
              <div>{{description}}</div>
            </div>
            <div>
              <div>{{importance}}</div>
              <button name="edit" data-todo-id={{id}}>Edit {{id}}</button>
            </div>
          </li>
          {{/each}}
        </ul>
      {{else}}
      <div>No items to show!</div>
      {{/if}}
    </script>

    <!-- Edit Note -->
    <script id="edit-note-template" type="text/x-handlebars-template">
      <h1>ToDo App</h1>
      {{#if todoNote}}
      <h2>Edit ToDo</h2>
      {{else}}
      <h2>Add new ToDo</h2>
      {{/if}}

      <form id="form" action="./index.html" action="POST">
        <label for="title">Title</label>
        <input id="title" type="text" name="title" required value="{{todoNote.title}}" />

        <br />

        <label for="importance">Importance</label>
        <select name="importance" id="importance" value="{{todoNote.importance}}">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>

        <br />

        <label for="duedate">Duedate</label>
        <input id="duedate" type="date" name="duedate" value="{{todoNote.dueDate}}"/>

        <br />

        <label for="finished">Finished</label>
        <input type="checkbox" id="finished" name="finished" value="{{todoNote.finished}}"/>

        <br />

        <label for="description">Description</label>
        <textarea id="description" name="description">{{todoNote.description}}</textarea>

        <br />

        <button type="submit">Send</button>
      </form>
    </script>
  </body>
</html>
